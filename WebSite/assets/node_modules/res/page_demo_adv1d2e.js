$(function () {
    var $d0 = $("#demo_0");
    var $d0_buttons = $(".js-btn__d0");
    $d0.ionRangeSlider({
        skin: "big",
        min: 0,
        max: 10000,
        from: 777,
        step: 1,
        grid: true,
        grid_num: 4,
        grid_snap: false
    });

    var d0_instance = $d0.data("ionRangeSlider");
    $d0_buttons.on("click", function () {
        var $this = $(this);
        var v = $this.data("variant");

        var o = {
            step: 1,
            grid: true,
            grid_num: 4,
            grid_snap: false
        };

        switch (v) {
            case 1:
                o.grid_num = 10;
                break;

            case 2:
                o.grid_num = 20;
                break;

            case 3:
                o.step = 1000;
                o.grid_snap = true;
                break;

            case 4:
                o.step = 2345;
                o.grid_snap = true;
                break;
        }

        d0_instance.update(o);

        $this.addClass("--active").siblings().removeClass("--active");
    });



    var $d1 = $("#demo_1");
    var $d1_buttons = $(".js-btn__d1");
    $d1.ionRangeSlider({
        skin: "big",
        type: "double",
        min: 0,
        max: 10,
        from: 2,
        to: 8,
        grid: true,
        grid_snap: true,
        from_fixed: false,
        to_fixed: false
    });

    var d1_instance = $d1.data("ionRangeSlider");
    $d1_buttons.on("click", function () {
        var $this = $(this);
        var v = $this.data("variant");

        var o = {
            from_fixed: false,
            to_fixed: false
        };

        switch (v) {
            case 1:
                o.from_fixed = true;
                break;

            case 2:
                o.to_fixed = true;
                break;

            case 3:
                o.from_fixed = true;
                o.to_fixed = true;
                break;
        }

        d1_instance.update(o);

        $this.addClass("--active").siblings().removeClass("--active");
    });



    var $d2 = $("#demo_2");
    var $d2_buttons = $(".js-btn__d2");
    $d2.ionRangeSlider({
        skin: "big",
        type: "single",
        min: 0,
        max: 1000,
        from: 500,
        grid: true,
        from_min: 250,
        from_max: 750,
        from_shadow: true
    });

    var d2_instance = $d2.data("ionRangeSlider");
    $d2_buttons.on("click", function () {
        var $this = $(this);
        var v = $this.data("variant");

        var o = {
            from_min: 250,
            from_max: 750,
            from_shadow: true
        };

        switch (v) {
            case 1:
                o.from_min = 0;
                o.from_max = 1000;
                o.from_shadow = false;
                break;
        }

        d2_instance.update(o);

        $this.addClass("--active").siblings().removeClass("--active");
    });



    var $d3 = $("#demo_3");
    var $d3_buttons = $(".js-btn__d3");
    $d3.ionRangeSlider({
        skin: "big",
        type: "double",
        min: 0,
        max: 1000,
        from: 400,
        to: 600,
        drag_interval: true,
        min_interval: null,     // set minimum interval width
        max_interval: null      // set maximum interval width
    });

    var d3_instance = $d3.data("ionRangeSlider");
    $d3_buttons.on("click", function () {
        var $this = $(this);
        var v = $this.data("variant");

        var o = {
            drag_interval: true,
            min_interval: null,
            max_interval: null
        };

        switch (v) {
            case 1:
                o.drag_interval = false;
                break;

            case 2:
                o.from = 0;
                o.to = 500;
                o.min_interval = 500;
                o.max_interval = 700;
                break;
        }

        d3_instance.update(o);

        $this.addClass("--active").siblings().removeClass("--active");
    });




    var lang = "en-US";
    var year = 2018;

    function dateToTS (date) {
        return date.valueOf();
    }

    function tsToDate (ts) {
        var d = new Date(ts);

        return d.toLocaleDateString(lang, {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });
    }

    var $d4 = $("#demo_4");
    var $d4_buttons = $(".js-btn__d4");
    $d4.ionRangeSlider({
        skin: "big",
        type: "double",
        force_edges: true,
        grid: true,
        grid_num: 2,
        min: dateToTS(new Date(year, 10, 1)),
        max: dateToTS(new Date(year, 11, 1)),
        from: dateToTS(new Date(year, 10, 8)),
        to: dateToTS(new Date(year, 10, 23)),
        prettify: tsToDate
    });

    var d4_instance = $d4.data("ionRangeSlider");
    $d4_buttons.on("click", function () {
        var $this = $(this);
        var v = $this.data("variant");

        switch (v) {
            case 0:
                lang = "en-US";
                break;

            case 1:
                lang = "ru-RU";
                break;

            case 2:
                lang = "ko-KR";
                break;

            case 3:
                lang = "ar-EG";
                break;

            case 4:
                lang = "ja-JA";
                break;

            case 5:
                lang = "de-DE";
                break;
        }

        d4_instance.update({});

        $this.addClass("--active").siblings().removeClass("--active");
    });
});
